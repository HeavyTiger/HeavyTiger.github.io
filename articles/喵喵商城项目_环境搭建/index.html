<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="sBEHKTtAGOsW8CzuLFLKzJIeSgj5S3G_6Jhlltsm76k">
  <meta name="baidu-site-verification" content="code-2EuuuTEL7g">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"heavytiger.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":18,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="之前学习SSM时搭建的电商项目较为简陋，没有复杂的业务逻辑，且未使用高性能高可用的框架以保证高并发下的可用性，因此这次再次开发一个可以达到实际部署上线要求的电商项目以检验自己的学习水平与技术栈掌握水平。 本文记录喵喵商城项目_环境搭建的全部流程，并将随着开发流程继续更新迭代。">
<meta property="og:type" content="article">
<meta property="og:title" content="喵喵商城项目_环境搭建">
<meta property="og:url" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/index.html">
<meta property="og:site_name" content="HeavyTiger&#39;s Blogs">
<meta property="og:description" content="之前学习SSM时搭建的电商项目较为简陋，没有复杂的业务逻辑，且未使用高性能高可用的框架以保证高并发下的可用性，因此这次再次开发一个可以达到实际部署上线要求的电商项目以检验自己的学习水平与技术栈掌握水平。 本文记录喵喵商城项目_环境搭建的全部流程，并将随着开发流程继续更新迭代。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207112409771.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207112918916.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207114241027.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207113324706.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207114153575.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207114434400.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207114924755.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207115055843.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207115249028.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207115343299.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207115409659.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207145648348.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207150112359.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207175346701.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207175952713.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207180124403.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207180325157.png">
<meta property="og:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207180528965.png">
<meta property="article:published_time" content="2022-02-07T03:06:58.000Z">
<meta property="article:modified_time" content="2022-02-09T13:54:32.000Z">
<meta property="article:author" content="喵式重战">
<meta property="article:tag" content="项目实战">
<meta property="article:tag" content="环境搭建">
<meta property="article:tag" content="部署运维">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/image-20220207112409771.png">

<link rel="canonical" href="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>喵喵商城项目_环境搭建 | HeavyTiger's Blogs</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
   <!--动态线条背景-->
    <script type="text/javascript"color="220,220,220" opacity='0.7' zIndex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
   
   <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">HeavyTiger's Blogs</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">逆水行舟</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/HeavyTiger" class="github-corner" title="喵喵喵~~~" aria-label="喵喵喵~~~" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

    
    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="喵式重战">
      <meta itemprop="description" content="人的一切痛苦，本质上都是对自己无能的愤怒。">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="HeavyTiger's Blogs">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          喵喵商城项目_环境搭建
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-02-07 11:06:58" itemprop="dateCreated datePublished" datetime="2022-02-07T11:06:58+08:00">2022-02-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-02-09 21:54:32" itemprop="dateModified" datetime="2022-02-09T21:54:32+08:00">2022-02-09</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/" itemprop="url" rel="index"><span itemprop="name">项目实战</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>49k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>45 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <!--此处为希望博客在首页显示的内容-->

<p>之前学习SSM时搭建的电商项目较为简陋，没有复杂的业务逻辑，且未使用高性能高可用的框架以保证高并发下的可用性，因此这次再次开发一个可以达到实际部署上线要求的电商项目以检验自己的学习水平与技术栈掌握水平。</p>
<p>本文记录喵喵商城项目_环境搭建的全部流程，并将随着开发流程继续更新迭代。</p>
<span id="more"></span>
<!-- markdownlint-disable MD041 MD002-->

<h2 id="安装Linux虚拟机"><a href="#安装Linux虚拟机" class="headerlink" title="安装Linux虚拟机"></a>安装Linux虚拟机</h2><p>在[清华大学开源软件镜像站中下载CentOS7的最小安装版镜像，此镜像站的下载速度非常给力，链接如下所示：<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Minimal-2009.iso">CentOS 7 x86_64 Minimal</a></p>
<p>下载完成后，按照常见的安装系统的流程虚拟机挂载镜像后，安装即可，最小安装版只有shell界面，不过更贴近工作环境且服务器运行的资源开销小</p>
<p>虚拟机设置如下所示：</p>
<p><img src="image-20220207112409771.png" alt="image-20220207112409771"></p>
<p>安装完成后，服务器只能ping通内网，外网无法连接，需要进行如下设置:</p>
<p>首先我们看一下<strong>编辑-&gt;虚拟机网络编辑器</strong>下<code>VMnet8</code>中<code>NAT</code>设置里的<strong>网关</strong>和<code>DHCP</code>设置里的<strong>起始/结束ip地址</strong>，这里尤其要记住ip地址范围哦。</p>
<p><img src="image-20220207112918916.png" alt="image-20220207112918916"></p>
<p>这说明虚拟机使用的子网地址为<code>192.168.205.0</code>，网关使用的是<code>192.168.205.2</code>，动态主机设置协议(<code>DHCP</code>)中，允许使用的ip地址从<code>128</code>到<code>254</code></p>
<p><img src="image-20220207114241027.png" alt="image-20220207114241027"></p>
<p><img src="image-20220207113324706.png" alt="image-20220207113324706"></p>
<p>之后手动去<code>CentOS</code>系统中配置网络，首先使用<code>vi /etc/sysconfig/network-scripts/ifcfg-ens33</code>编辑网络配置</p>
<p><img src="image-20220207114153575.png" alt="image-20220207114153575"></p>
<p>修改完成后，使用<code>service network restart</code>后就能<code>ping</code>通外网了</p>
<p><img src="image-20220207114434400.png" alt="image-20220207114434400"></p>
<p>使用<code>ip addr</code>命令可以查看网络配置情况</p>
<p><img src="image-20220207114924755.png" alt="image-20220207114924755"></p>
<h2 id="使用Xshell连接到虚拟机"><a href="#使用Xshell连接到虚拟机" class="headerlink" title="使用Xshell连接到虚拟机"></a>使用Xshell连接到虚拟机</h2><p>填写先前网络配置时使用的ip，此时即<code>192.168.205.200</code></p>
<p><img src="image-20220207115055843.png" alt="image-20220207115055843"></p>
<p>身份验证使用常规的<code>Password</code>进行连接，将配置填入即可</p>
<p><img src="image-20220207115249028.png" alt="image-20220207115249028"></p>
<p><img src="image-20220207115343299.png" alt="image-20220207115343299"></p>
<p>连接成功</p>
<p><img src="image-20220207115409659.png" alt="image-20220207115409659"></p>
<h2 id="Docker环境搭建"><a href="#Docker环境搭建" class="headerlink" title="Docker环境搭建"></a>Docker环境搭建</h2><h3 id="安装Docker"><a href="#安装Docker" class="headerlink" title="安装Docker"></a>安装Docker</h3><p>Docker是虚拟化容器技术，Docker基于镜像，可以秒级启动各种容器，每一种容器都是一个完整的运行环境，容器之间互相隔离。</p>
<p><strong>首先删除以前可能存在的docker软件包，由于虚拟机系统为纯净版本，因此不存在docker</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost /]# sudo yum remove docker \</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">                   docker-client \</span></span><br><span class="line"><span class="bash">&gt;                   docker-client-latest \</span></span><br><span class="line"><span class="bash">&gt;                   docker-common \</span></span><br><span class="line"><span class="bash">&gt;                   docker-latest \</span></span><br><span class="line"><span class="bash">&gt;                   docker-latest-logrotate \</span></span><br><span class="line"><span class="bash">&gt;                   docker-logrotate \</span></span><br><span class="line"><span class="bash">&gt;                   docker-engine</span></span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">参数 docker 没有匹配</span><br><span class="line">参数 docker-client 没有匹配</span><br><span class="line">参数 docker-client-latest 没有匹配</span><br><span class="line">参数 docker-common 没有匹配</span><br><span class="line">参数 docker-latest 没有匹配</span><br><span class="line">参数 docker-latest-logrotate 没有匹配</span><br><span class="line">参数 docker-logrotate 没有匹配</span><br><span class="line">参数 docker-engine 没有匹配</span><br><span class="line">不删除任何软件包</span><br></pre></td></tr></table></figure>

<p><strong>设置存储库</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装依赖的包，提供docker的使用支持</span></span><br><span class="line">sudo yum install -y yum-utils \</span><br><span class="line">	device-mapper-persistent-data \</span><br><span class="line">	lvm2</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置安装仓库</span></span><br><span class="line">sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>

<p><strong>安装docker引擎社区版(免费)</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>

<p><strong>启动docker</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start docker</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看docker版本</span></span><br><span class="line">[root@localhost /]# docker -v</span><br><span class="line">Docker version 20.10.12, build e91ed57</span><br></pre></td></tr></table></figure>

<p><strong>检查虚拟机是否下载完成镜像</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost /]# sudo docker images</span><br><span class="line"><span class="meta">#</span><span class="bash"> 结果如下</span></span><br><span class="line">REPOSITORY   TAG       IMAGE ID   CREATED   SIZE</span><br></pre></td></tr></table></figure>

<p><strong>启用docker开机自启动</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost /]# sudo systemctl enable docker</span><br></pre></td></tr></table></figure>

<p><strong>配置阿里云镜像加速</strong></p>
<p>进入<a target="_blank" rel="noopener" href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors">容器镜像服务 (aliyun.com)</a>，配置镜像加速器</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/docker</span><br><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&#x27;EOF&#x27;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://4r0aqtt2.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure>

<p>配置完成后，即拥有了镜像加速功能，在<code>docker hub</code>中进行下载都使用阿里云镜像进行加速</p>
<h3 id="在Docker中安装MySQL"><a href="#在Docker中安装MySQL" class="headerlink" title="在Docker中安装MySQL"></a>在Docker中安装MySQL</h3><p><a target="_blank" rel="noopener" href="https://hub.docker.com/_/mysql?tab=tags">mysql Tags | Docker Hub</a>，查询需要的版本号，使用如下命令进行安装，使用<code>8.0.28</code>为例</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql:8.0.28</span><br><span class="line">[root@localhost /]# sudo docker images</span><br><span class="line">REPOSITORY   TAG       IMAGE ID       CREATED       SIZE</span><br><span class="line">mysql        8.0.28    d1dc36cf8d9e   11 days ago   519MB</span><br></pre></td></tr></table></figure>

<p><strong>创建docker实例并启动</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run --name mysql \</span><br><span class="line">-v /usr/local/mysql/data:/var/lib/mysql \</span><br><span class="line">-v /usr/local/mysql/conf:/etc/mysql \</span><br><span class="line">-v /usr/local/mysql/log:/var/log/mysql \</span><br><span class="line">-v /usr/local/mysql/mysql-files:/var/lib/mysql-files \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=root \</span><br><span class="line">-p 3306:3306 \</span><br><span class="line">-d mysql:8.0.28</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用docker ps命令，查找正在使用的镜像</span></span><br><span class="line">docker ps</span><br><span class="line">CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS         PORTS                                                  NAMES</span><br><span class="line">1daf68148f65   mysql:8.0.28   &quot;docker-entrypoint.s…&quot;   7 seconds ago   Up 6 seconds   0.0.0.0:3306-&gt;3306/tcp, :::3306-&gt;3306/tcp, 33060/tcp   mysql</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>参数简介：</strong></p>
<p>–name指定容器名字    </p>
<p>指定镜像容器的名称</p>
<p>-v目录挂载        </p>
<p>将docker容器目录中的内容挂载到冒号前设定的本机的位置，这样对于经常访问的文件就不必经常进入MySQL容器中操作，类似于快捷方式</p>
<p>-v /usr/local/mysql/data:/var/lib/mysql    将容器中/var/lib/mysql目录中的数据文件映射到/usr/local/mysql/data<br>-v /usr/local/mysql/conf:/etc/mysql    将容器中/etc/mysql/中的配置文件映射到/usr/local/mysql/conf<br>-v /usr/local/mysql/log:/var/log/mysql    将容器中/var/log/mysql目录中的日志文件映射到/usr/local/mysql/log</p>
<p>-p指定端口映射        </p>
<p>此处设置将访问本机的3306端口映射到了docker的3306端口</p>
<p>-e设置mysql参数        </p>
<p>默认访问密码为root</p>
<p>-d后台运行        </p>
<p>设置后台运行mysql:8.0.28镜像</p>
<p><strong>关闭容器的方式</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stop $CONTAINER_ID</span><br></pre></td></tr></table></figure>

<p>移除容器的方式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rm $CONTAINER_ID</span><br></pre></td></tr></table></figure>

<p><strong>若启动出错，可以使用如下命令查看出错原因</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs $CONTAINER_NAME</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>进入MySQL容器</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 使用命令 docker <span class="built_in">exec</span> -it &lt;容器名 | 容器ID&gt; bin/bash</span> </span><br><span class="line">[root@localhost /]# docker exec -it mysql bin/bash</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 可以看到容器内部与linux系统目录一致，mysql容器就类似于一个小的系统</span></span><br><span class="line">root@1daf68148f65:/# ls</span><br><span class="line">bin   dev			  entrypoint.sh  home  lib64  mnt  proc  run   srv  tmp  var</span><br><span class="line">boot  docker-entrypoint-initdb.d  etc		 lib   media  opt  root  sbin  sys  usr</span><br><span class="line">root@1daf68148f65:/# whereis mysql</span><br><span class="line">mysql: /usr/bin/mysql /usr/lib/mysql /etc/mysql</span><br></pre></td></tr></table></figure>

<p><strong>配置MySQL的my.cnf文件</strong></p>
<p><code>vi /usr/local/mysql/conf/my.cnf</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">init_connect=&#x27;SET collation_connection = utf8_unicode_ci&#x27;</span><br><span class="line">init_connect=&#x27;SET NAMES utf8&#x27;</span><br><span class="line">character-set-server=utf8</span><br><span class="line">collation-server=utf8_unicode_ci</span><br><span class="line">skip-character-set-client-handshake</span><br><span class="line">skip-name-resolve</span><br></pre></td></tr></table></figure>

<p>重启mysql容器<code>docker restart mysql</code>使用挂载的配置文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看容器内部是否已经使用 /usr/<span class="built_in">local</span>/mysql/conf/my.cnf 中的配置文件</span></span><br><span class="line">docker exec -it mysql /bin/bash</span><br><span class="line"><span class="meta">#</span><span class="bash"> 容器内部已经设置成功</span></span><br><span class="line">root@757d2d305710:/# cd /etc/mysql</span><br><span class="line">root@757d2d305710:/etc/mysql# ls</span><br><span class="line">my.cnf</span><br><span class="line">root@757d2d305710:/etc/mysql# cat my.cnf </span><br><span class="line">[client]</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">init_connect=&#x27;SET collation_connection = utf8_unicode_ci&#x27;</span><br><span class="line">init_connect=&#x27;SET NAMES utf8&#x27;</span><br><span class="line">character-set-server=utf8</span><br><span class="line">collation-server=utf8_unicode_ci</span><br><span class="line">skip-character-set-client-handshake</span><br><span class="line">skip-name-resolve</span><br></pre></td></tr></table></figure>

<h3 id="在Docker中安装Redis"><a href="#在Docker中安装Redis" class="headerlink" title="在Docker中安装Redis"></a>在Docker中安装Redis</h3><p><strong>下载镜像文件</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull redis</span><br></pre></td></tr></table></figure>

<p><strong>创建实例并启动</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 预先创建文件步骤可以避免启动实例时，docker将redis.conf映射为目录</span></span><br><span class="line">mkdir -p /usr/local/redis/conf</span><br><span class="line">touch /usr/local/redis/conf/redis.conf</span><br></pre></td></tr></table></figure>

<p><strong>启动docker镜像</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 注意-d是输入的命令，因此要最后运行</span></span><br><span class="line">docker run --name redis \</span><br><span class="line">-v /usr/local/redis/data:/data \</span><br><span class="line">-v /usr/local/redis/conf/redis.conf:/etc/redis/redis.conf \</span><br><span class="line">-p 6379:6379 \</span><br><span class="line">-d redis redis-server /etc/redis/redis.conf</span><br></pre></td></tr></table></figure>

<p><strong>测试连接redis</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost mysql]# docker exec -it redis redis-cli</span><br><span class="line">127.0.0.1:6379&gt; </span><br><span class="line"><span class="meta">#</span><span class="bash"> 可以看到连接成功</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>配置镜像容器自启动</strong></p>
<p>在服务器重启后，docker服务因为配置过自动启动会重启，但是其中的镜像并不会自动重启，因此在服务器上线后还需要去手动启动docker容器，很麻烦，因此可以设置镜像容器自启动代替手动启动。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo docker update mysql --restart=always</span><br><span class="line">sudo docker update redis --restart=always</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="创建github仓库"><a href="#创建github仓库" class="headerlink" title="创建github仓库"></a>创建github仓库</h2><p><img src="image-20220207145648348.png" alt="image-20220207145648348"></p>
<p>将创建好的项目通过IDEA <code>clone</code>到本地，在项目中创建微服务模块</p>
<p>创建产品微服务模块</p>
<p><img src="image-20220207150112359.png" alt="image-20220207150112359"></p>
<p>导入微服务必要的组件<code>Web/Spring Web</code>(Web的相关组件)和<code>Spring Cloud Routing/OpenFeign</code>(微服务之间的相互调用)，其余的组件待需要时再导入。</p>
<p>之后再创建其余的微服务模块，包含商品服务，仓储服务，订单服务，优惠卷服务，用户服务等</p>
<p>创建完成后，在主项目路径下添加一个总<code>pom.xml</code>文件，用来对所有的项目模块进行聚合，内容如下所示：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.heavytiger.meowmall<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>meowmall<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>meowmall<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>聚合服务，将其他的pom文件聚合<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>meowmall-coupon<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>meowmall-member<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>meowmall-order<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>meowmall-product<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>meowmall-ware<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>之后配置主项目路径下的<code>.gitignore</code>文件，配合版本管理中<code>提交</code>显示的未管理文件进行相关的设置，将不需要版本管理的文件剔除。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">target/</span><br><span class="line">pom.xml.tag</span><br><span class="line">pom.xml.releaseBackup</span><br><span class="line">pom.xml.versionsBackup</span><br><span class="line">pom.xml.next</span><br><span class="line">release.properties</span><br><span class="line">dependency-reduced-pom.xml</span><br><span class="line">buildNumber.properties</span><br><span class="line">.mvn/timing.properties</span><br><span class="line"><span class="meta">#</span><span class="bash"> https://github.com/takari/maven-wrapper<span class="comment">#usage-without-binary-jar</span></span></span><br><span class="line">.mvn/wrapper/maven-wrapper.jar</span><br><span class="line"></span><br><span class="line">**/mvnw</span><br><span class="line">**/mvnw.cmd</span><br><span class="line"></span><br><span class="line">**/.mvn</span><br><span class="line">**/target</span><br><span class="line"></span><br><span class="line">.idea</span><br></pre></td></tr></table></figure>

<h2 id="数据库表的设计"><a href="#数据库表的设计" class="headerlink" title="数据库表的设计"></a>数据库表的设计</h2><p>创建以下五个数据库，每个微服务只对自己负责的数据库进行相关操作</p>
<ol>
<li><code>meowmall_oms</code>  订单模块数据库</li>
<li><code>meowmall_pms</code>  产品模块数据库</li>
<li><code>meowmall_ums</code>  会员模块数据库</li>
<li><code>meowmall_wms</code>  库存模块数据库</li>
<li><code>meowmall_sms</code>  活动模块数据库（优惠卷，秒杀等活动）</li>
</ol>
<p><strong>由于电商项目的数据量非常大，若设置外键会导致操作的效率非常低，因此不设置外键约束</strong></p>
<h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> `meowmall_oms`;</span><br><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> `meowmall_pms`;</span><br><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> `meowmall_ums`;</span><br><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> `meowmall_wms`;</span><br><span class="line"><span class="keyword">DROP</span> DATABASE IF <span class="keyword">EXISTS</span> `meowmall_sms`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> DATABASE `meowmall_oms` <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="string">&#x27;utf8mb4&#x27;</span>;</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE `meowmall_pms` <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="string">&#x27;utf8mb4&#x27;</span>;</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE `meowmall_ums` <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="string">&#x27;utf8mb4&#x27;</span>;</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE `meowmall_wms` <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="string">&#x27;utf8mb4&#x27;</span>;</span><br><span class="line"><span class="keyword">CREATE</span> DATABASE `meowmall_sms` <span class="type">CHARACTER</span> <span class="keyword">SET</span> <span class="string">&#x27;utf8mb4&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="OMS订单模块数据库表创建"><a href="#OMS订单模块数据库表创建" class="headerlink" title="OMS订单模块数据库表创建"></a>OMS订单模块数据库表创建</h3><p><img src="image-20220207175346701.png" alt="image-20220207175346701"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> oms_order;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> oms_order_item;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> oms_order_operate_history;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> oms_order_return_apply;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> oms_order_return_reason;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> oms_order_setting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> oms_payment_info;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> oms_refund_info;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_order                                             */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oms_order</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   member_id            <span class="type">bigint</span> comment <span class="string">&#x27;member_id&#x27;</span>,</span><br><span class="line">   order_sn             <span class="type">char</span>(<span class="number">32</span>) comment <span class="string">&#x27;订单号&#x27;</span>,</span><br><span class="line">   coupon_id            <span class="type">bigint</span> comment <span class="string">&#x27;使用的优惠券&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;create_time&#x27;</span>,</span><br><span class="line">   member_username      <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;用户名&#x27;</span>,</span><br><span class="line">   total_amount         <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;订单总额&#x27;</span>,</span><br><span class="line">   pay_amount           <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;应付总额&#x27;</span>,</span><br><span class="line">   freight_amount       <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;运费金额&#x27;</span>,</span><br><span class="line">   promotion_amount     <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;促销优化金额（促销价、满减、阶梯价）&#x27;</span>,</span><br><span class="line">   integration_amount   <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;积分抵扣金额&#x27;</span>,</span><br><span class="line">   coupon_amount        <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;优惠券抵扣金额&#x27;</span>,</span><br><span class="line">   discount_amount      <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;后台调整订单使用的折扣金额&#x27;</span>,</span><br><span class="line">   pay_type             tinyint comment <span class="string">&#x27;支付方式【1-&gt;支付宝；2-&gt;微信；3-&gt;银联； 4-&gt;货到付款；】&#x27;</span>,</span><br><span class="line">   source_type          tinyint comment <span class="string">&#x27;订单来源[0-&gt;PC订单；1-&gt;app订单]&#x27;</span>,</span><br><span class="line">   status               tinyint comment <span class="string">&#x27;订单状态【0-&gt;待付款；1-&gt;待发货；2-&gt;已发货；3-&gt;已完成；4-&gt;已关闭；5-&gt;无效订单】&#x27;</span>,</span><br><span class="line">   delivery_company     <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;物流公司(配送方式)&#x27;</span>,</span><br><span class="line">   delivery_sn          <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;物流单号&#x27;</span>,</span><br><span class="line">   auto_confirm_day     <span class="type">int</span> comment <span class="string">&#x27;自动确认时间（天）&#x27;</span>,</span><br><span class="line">   integration          <span class="type">int</span> comment <span class="string">&#x27;可以获得的积分&#x27;</span>,</span><br><span class="line">   growth               <span class="type">int</span> comment <span class="string">&#x27;可以获得的成长值&#x27;</span>,</span><br><span class="line">   bill_type            tinyint comment <span class="string">&#x27;发票类型[0-&gt;不开发票；1-&gt;电子发票；2-&gt;纸质发票]&#x27;</span>,</span><br><span class="line">   bill_header          <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;发票抬头&#x27;</span>,</span><br><span class="line">   bill_content         <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;发票内容&#x27;</span>,</span><br><span class="line">   bill_receiver_phone  <span class="type">varchar</span>(<span class="number">32</span>) comment <span class="string">&#x27;收票人电话&#x27;</span>,</span><br><span class="line">   bill_receiver_email  <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;收票人邮箱&#x27;</span>,</span><br><span class="line">   receiver_name        <span class="type">varchar</span>(<span class="number">100</span>) comment <span class="string">&#x27;收货人姓名&#x27;</span>,</span><br><span class="line">   receiver_phone       <span class="type">varchar</span>(<span class="number">32</span>) comment <span class="string">&#x27;收货人电话&#x27;</span>,</span><br><span class="line">   receiver_post_code   <span class="type">varchar</span>(<span class="number">32</span>) comment <span class="string">&#x27;收货人邮编&#x27;</span>,</span><br><span class="line">   receiver_province    <span class="type">varchar</span>(<span class="number">32</span>) comment <span class="string">&#x27;省份/直辖市&#x27;</span>,</span><br><span class="line">   receiver_city        <span class="type">varchar</span>(<span class="number">32</span>) comment <span class="string">&#x27;城市&#x27;</span>,</span><br><span class="line">   receiver_region      <span class="type">varchar</span>(<span class="number">32</span>) comment <span class="string">&#x27;区&#x27;</span>,</span><br><span class="line">   receiver_detail_address <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;详细地址&#x27;</span>,</span><br><span class="line">   note                 <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;订单备注&#x27;</span>,</span><br><span class="line">   confirm_status       tinyint comment <span class="string">&#x27;确认收货状态[0-&gt;未确认；1-&gt;已确认]&#x27;</span>,</span><br><span class="line">   delete_status        tinyint comment <span class="string">&#x27;删除状态【0-&gt;未删除；1-&gt;已删除】&#x27;</span>,</span><br><span class="line">   use_integration      <span class="type">int</span> comment <span class="string">&#x27;下单时使用的积分&#x27;</span>,</span><br><span class="line">   payment_time         datetime comment <span class="string">&#x27;支付时间&#x27;</span>,</span><br><span class="line">   delivery_time        datetime comment <span class="string">&#x27;发货时间&#x27;</span>,</span><br><span class="line">   receive_time         datetime comment <span class="string">&#x27;确认收货时间&#x27;</span>,</span><br><span class="line">   comment_time         datetime comment <span class="string">&#x27;评价时间&#x27;</span>,</span><br><span class="line">   modify_time          datetime comment <span class="string">&#x27;修改时间&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> oms_order comment <span class="string">&#x27;订单&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_order_item                                        */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oms_order_item</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   order_id             <span class="type">bigint</span> comment <span class="string">&#x27;order_id&#x27;</span>,</span><br><span class="line">   order_sn             <span class="type">char</span>(<span class="number">32</span>) comment <span class="string">&#x27;order_sn&#x27;</span>,</span><br><span class="line">   spu_id               <span class="type">bigint</span> comment <span class="string">&#x27;spu_id&#x27;</span>,</span><br><span class="line">   spu_name             <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;spu_name&#x27;</span>,</span><br><span class="line">   spu_pic              <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;spu_pic&#x27;</span>,</span><br><span class="line">   spu_brand            <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;品牌&#x27;</span>,</span><br><span class="line">   category_id          <span class="type">bigint</span> comment <span class="string">&#x27;商品分类id&#x27;</span>,</span><br><span class="line">   sku_id               <span class="type">bigint</span> comment <span class="string">&#x27;商品sku编号&#x27;</span>,</span><br><span class="line">   sku_name             <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;商品sku名字&#x27;</span>,</span><br><span class="line">   sku_pic              <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;商品sku图片&#x27;</span>,</span><br><span class="line">   sku_price            <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;商品sku价格&#x27;</span>,</span><br><span class="line">   sku_quantity         <span class="type">int</span> comment <span class="string">&#x27;商品购买的数量&#x27;</span>,</span><br><span class="line">   sku_attrs_vals       <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;商品销售属性组合（JSON）&#x27;</span>,</span><br><span class="line">   promotion_amount     <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;商品促销分解金额&#x27;</span>,</span><br><span class="line">   coupon_amount        <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;优惠券优惠分解金额&#x27;</span>,</span><br><span class="line">   integration_amount   <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;积分优惠分解金额&#x27;</span>,</span><br><span class="line">   real_amount          <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;该商品经过优惠后的分解金额&#x27;</span>,</span><br><span class="line">   gift_integration     <span class="type">int</span> comment <span class="string">&#x27;赠送积分&#x27;</span>,</span><br><span class="line">   gift_growth          <span class="type">int</span> comment <span class="string">&#x27;赠送成长值&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> oms_order_item comment <span class="string">&#x27;订单项信息&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_order_operate_history                             */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oms_order_operate_history</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   order_id             <span class="type">bigint</span> comment <span class="string">&#x27;订单id&#x27;</span>,</span><br><span class="line">   operate_man          <span class="type">varchar</span>(<span class="number">100</span>) comment <span class="string">&#x27;操作人[用户；系统；后台管理员]&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;操作时间&#x27;</span>,</span><br><span class="line">   order_status         tinyint comment <span class="string">&#x27;订单状态【0-&gt;待付款；1-&gt;待发货；2-&gt;已发货；3-&gt;已完成；4-&gt;已关闭；5-&gt;无效订单】&#x27;</span>,</span><br><span class="line">   note                 <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;备注&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> oms_order_operate_history comment <span class="string">&#x27;订单操作历史记录&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_order_return_apply                                */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oms_order_return_apply</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   order_id             <span class="type">bigint</span> comment <span class="string">&#x27;order_id&#x27;</span>,</span><br><span class="line">   sku_id               <span class="type">bigint</span> comment <span class="string">&#x27;退货商品id&#x27;</span>,</span><br><span class="line">   order_sn             <span class="type">char</span>(<span class="number">32</span>) comment <span class="string">&#x27;订单编号&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;申请时间&#x27;</span>,</span><br><span class="line">   member_username      <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;会员用户名&#x27;</span>,</span><br><span class="line">   return_amount        <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;退款金额&#x27;</span>,</span><br><span class="line">   return_name          <span class="type">varchar</span>(<span class="number">100</span>) comment <span class="string">&#x27;退货人姓名&#x27;</span>,</span><br><span class="line">   return_phone         <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;退货人电话&#x27;</span>,</span><br><span class="line">   status               tinyint(<span class="number">1</span>) comment <span class="string">&#x27;申请状态[0-&gt;待处理；1-&gt;退货中；2-&gt;已完成；3-&gt;已拒绝]&#x27;</span>,</span><br><span class="line">   handle_time          datetime comment <span class="string">&#x27;处理时间&#x27;</span>,</span><br><span class="line">   sku_img              <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;商品图片&#x27;</span>,</span><br><span class="line">   sku_name             <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;商品名称&#x27;</span>,</span><br><span class="line">   sku_brand            <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;商品品牌&#x27;</span>,</span><br><span class="line">   sku_attrs_vals       <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;商品销售属性(JSON)&#x27;</span>,</span><br><span class="line">   sku_count            <span class="type">int</span> comment <span class="string">&#x27;退货数量&#x27;</span>,</span><br><span class="line">   sku_price            <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;商品单价&#x27;</span>,</span><br><span class="line">   sku_real_price       <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;商品实际支付单价&#x27;</span>,</span><br><span class="line">   reason               <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;原因&#x27;</span>,</span><br><span class="line">   description述         <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;描述&#x27;</span>,</span><br><span class="line">   desc_pics            <span class="type">varchar</span>(<span class="number">2000</span>) comment <span class="string">&#x27;凭证图片，以逗号隔开&#x27;</span>,</span><br><span class="line">   handle_note          <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;处理备注&#x27;</span>,</span><br><span class="line">   handle_man           <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;处理人员&#x27;</span>,</span><br><span class="line">   receive_man          <span class="type">varchar</span>(<span class="number">100</span>) comment <span class="string">&#x27;收货人&#x27;</span>,</span><br><span class="line">   receive_time         datetime comment <span class="string">&#x27;收货时间&#x27;</span>,</span><br><span class="line">   receive_note         <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;收货备注&#x27;</span>,</span><br><span class="line">   receive_phone        <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;收货电话&#x27;</span>,</span><br><span class="line">   company_address      <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;公司收货地址&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> oms_order_return_apply comment <span class="string">&#x27;订单退货申请&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_order_return_reason                               */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oms_order_return_reason</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   name                 <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;退货原因名&#x27;</span>,</span><br><span class="line">   sort                 <span class="type">int</span> comment <span class="string">&#x27;排序&#x27;</span>,</span><br><span class="line">   status               tinyint(<span class="number">1</span>) comment <span class="string">&#x27;启用状态&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;create_time&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> oms_order_return_reason comment <span class="string">&#x27;退货原因&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_order_setting                                     */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oms_order_setting</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   flash_order_overtime <span class="type">int</span> comment <span class="string">&#x27;秒杀订单超时关闭时间(分)&#x27;</span>,</span><br><span class="line">   normal_order_overtime <span class="type">int</span> comment <span class="string">&#x27;正常订单超时时间(分)&#x27;</span>,</span><br><span class="line">   confirm_overtime     <span class="type">int</span> comment <span class="string">&#x27;发货后自动确认收货时间（天）&#x27;</span>,</span><br><span class="line">   finish_overtime      <span class="type">int</span> comment <span class="string">&#x27;自动完成交易时间，不能申请退货（天）&#x27;</span>,</span><br><span class="line">   comment_overtime     <span class="type">int</span> comment <span class="string">&#x27;订单完成后自动好评时间（天）&#x27;</span>,</span><br><span class="line">   member_level         tinyint(<span class="number">2</span>) comment <span class="string">&#x27;会员等级【0-不限会员等级，全部通用；其他-对应的其他会员等级】&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> oms_order_setting comment <span class="string">&#x27;订单配置信息&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_payment_info                                      */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oms_payment_info</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   order_sn             <span class="type">char</span>(<span class="number">32</span>) comment <span class="string">&#x27;订单号（对外业务号）&#x27;</span>,</span><br><span class="line">   order_id             <span class="type">bigint</span> comment <span class="string">&#x27;订单id&#x27;</span>,</span><br><span class="line">   alipay_trade_no      <span class="type">varchar</span>(<span class="number">50</span>) comment <span class="string">&#x27;支付宝交易流水号&#x27;</span>,</span><br><span class="line">   total_amount         <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;支付总金额&#x27;</span>,</span><br><span class="line">   subject              <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;交易内容&#x27;</span>,</span><br><span class="line">   payment_status       <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;支付状态&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">   confirm_time         datetime comment <span class="string">&#x27;确认时间&#x27;</span>,</span><br><span class="line">   callback_content     <span class="type">varchar</span>(<span class="number">4000</span>) comment <span class="string">&#x27;回调内容&#x27;</span>,</span><br><span class="line">   callback_time        datetime comment <span class="string">&#x27;回调时间&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> oms_payment_info comment <span class="string">&#x27;支付信息表&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: oms_refund_info                                       */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> oms_refund_info</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   order_return_id      <span class="type">bigint</span> comment <span class="string">&#x27;退款的订单&#x27;</span>,</span><br><span class="line">   refund               <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;退款金额&#x27;</span>,</span><br><span class="line">   refund_sn            <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;退款交易流水号&#x27;</span>,</span><br><span class="line">   refund_status        tinyint(<span class="number">1</span>) comment <span class="string">&#x27;退款状态&#x27;</span>,</span><br><span class="line">   refund_channel       tinyint comment <span class="string">&#x27;退款渠道[1-支付宝，2-微信，3-银联，4-汇款]&#x27;</span>,</span><br><span class="line">   refund_content       <span class="type">varchar</span>(<span class="number">5000</span>),</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> oms_refund_info comment <span class="string">&#x27;退款信息&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="PMS产品模块数据库表创建"><a href="#PMS产品模块数据库表创建" class="headerlink" title="PMS产品模块数据库表创建"></a>PMS产品模块数据库表创建</h3><p><img src="image-20220207175952713.png" alt="image-20220207175952713"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_attr;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_attr_attrgroup_relation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_attr_group;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_brand;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_category;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_category_brand_relation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_comment_replay;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_product_attr_value;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_sku_images;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_sku_info;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_sku_sale_attr_value;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_spu_comment;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_spu_images;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_spu_info;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> pms_spu_info_desc;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_attr                                              */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_attr</span><br><span class="line">(</span><br><span class="line">   attr_id              <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;属性id&#x27;</span>,</span><br><span class="line">   attr_name            <span class="type">char</span>(<span class="number">30</span>) comment <span class="string">&#x27;属性名&#x27;</span>,</span><br><span class="line">   search_type          tinyint comment <span class="string">&#x27;是否需要检索[0-不需要，1-需要]&#x27;</span>,</span><br><span class="line">   icon                 <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;属性图标&#x27;</span>,</span><br><span class="line">   value_select         <span class="type">char</span>(<span class="number">255</span>) comment <span class="string">&#x27;可选值列表[用逗号分隔]&#x27;</span>,</span><br><span class="line">   attr_type            tinyint comment <span class="string">&#x27;属性类型[0-销售属性，1-基本属性，2-既是销售属性又是基本属性]&#x27;</span>,</span><br><span class="line">   enable               <span class="type">bigint</span> comment <span class="string">&#x27;启用状态[0 - 禁用，1 - 启用]&#x27;</span>,</span><br><span class="line">   catelog_id           <span class="type">bigint</span> comment <span class="string">&#x27;所属分类&#x27;</span>,</span><br><span class="line">   show_desc            tinyint comment <span class="string">&#x27;快速展示【是否展示在介绍上；0-否 1-是】，在sku中仍然可以调整&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (attr_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_attr comment <span class="string">&#x27;商品属性&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_attr_attrgroup_relation                           */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_attr_attrgroup_relation</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   attr_id              <span class="type">bigint</span> comment <span class="string">&#x27;属性id&#x27;</span>,</span><br><span class="line">   attr_group_id        <span class="type">bigint</span> comment <span class="string">&#x27;属性分组id&#x27;</span>,</span><br><span class="line">   attr_sort            <span class="type">int</span> comment <span class="string">&#x27;属性组内排序&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_attr_attrgroup_relation comment <span class="string">&#x27;属性&amp;属性分组关联&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_attr_group                                        */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_attr_group</span><br><span class="line">(</span><br><span class="line">   attr_group_id        <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;分组id&#x27;</span>,</span><br><span class="line">   attr_group_name      <span class="type">char</span>(<span class="number">20</span>) comment <span class="string">&#x27;组名&#x27;</span>,</span><br><span class="line">   sort                 <span class="type">int</span> comment <span class="string">&#x27;排序&#x27;</span>,</span><br><span class="line">   descript             <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;描述&#x27;</span>,</span><br><span class="line">   icon                 <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;组图标&#x27;</span>,</span><br><span class="line">   catelog_id           <span class="type">bigint</span> comment <span class="string">&#x27;所属分类id&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (attr_group_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_attr_group comment <span class="string">&#x27;属性分组&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_brand                                             */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_brand</span><br><span class="line">(</span><br><span class="line">   brand_id             <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;品牌id&#x27;</span>,</span><br><span class="line">   name                 <span class="type">char</span>(<span class="number">50</span>) comment <span class="string">&#x27;品牌名&#x27;</span>,</span><br><span class="line">   logo                 <span class="type">varchar</span>(<span class="number">2000</span>) comment <span class="string">&#x27;品牌logo地址&#x27;</span>,</span><br><span class="line">   descript             longtext comment <span class="string">&#x27;介绍&#x27;</span>,</span><br><span class="line">   show_status          tinyint comment <span class="string">&#x27;显示状态[0-不显示；1-显示]&#x27;</span>,</span><br><span class="line">   first_letter         <span class="type">char</span>(<span class="number">1</span>) comment <span class="string">&#x27;检索首字母&#x27;</span>,</span><br><span class="line">   sort                 <span class="type">int</span> comment <span class="string">&#x27;排序&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (brand_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_brand comment <span class="string">&#x27;品牌&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_category                                          */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_category</span><br><span class="line">(</span><br><span class="line">   cat_id               <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;分类id&#x27;</span>,</span><br><span class="line">   name                 <span class="type">char</span>(<span class="number">50</span>) comment <span class="string">&#x27;分类名称&#x27;</span>,</span><br><span class="line">   parent_cid           <span class="type">bigint</span> comment <span class="string">&#x27;父分类id&#x27;</span>,</span><br><span class="line">   cat_level            <span class="type">int</span> comment <span class="string">&#x27;层级&#x27;</span>,</span><br><span class="line">   show_status          tinyint comment <span class="string">&#x27;是否显示[0-不显示，1显示]&#x27;</span>,</span><br><span class="line">   sort                 <span class="type">int</span> comment <span class="string">&#x27;排序&#x27;</span>,</span><br><span class="line">   icon                 <span class="type">char</span>(<span class="number">255</span>) comment <span class="string">&#x27;图标地址&#x27;</span>,</span><br><span class="line">   product_unit         <span class="type">char</span>(<span class="number">50</span>) comment <span class="string">&#x27;计量单位&#x27;</span>,</span><br><span class="line">   product_count        <span class="type">int</span> comment <span class="string">&#x27;商品数量&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (cat_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_category comment <span class="string">&#x27;商品三级分类&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_category_brand_relation                           */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_category_brand_relation</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment,</span><br><span class="line">   brand_id             <span class="type">bigint</span> comment <span class="string">&#x27;品牌id&#x27;</span>,</span><br><span class="line">   catelog_id           <span class="type">bigint</span> comment <span class="string">&#x27;分类id&#x27;</span>,</span><br><span class="line">   brand_name           <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">   catelog_name         <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_category_brand_relation comment <span class="string">&#x27;品牌分类关联&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_comment_replay                                    */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_comment_replay</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   comment_id           <span class="type">bigint</span> comment <span class="string">&#x27;评论id&#x27;</span>,</span><br><span class="line">   reply_id             <span class="type">bigint</span> comment <span class="string">&#x27;回复id&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_comment_replay comment <span class="string">&#x27;商品评价回复关系&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_product_attr_value                                */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_product_attr_value</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   spu_id               <span class="type">bigint</span> comment <span class="string">&#x27;商品id&#x27;</span>,</span><br><span class="line">   attr_id              <span class="type">bigint</span> comment <span class="string">&#x27;属性id&#x27;</span>,</span><br><span class="line">   attr_name            <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;属性名&#x27;</span>,</span><br><span class="line">   attr_value           <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;属性值&#x27;</span>,</span><br><span class="line">   attr_sort            <span class="type">int</span> comment <span class="string">&#x27;顺序&#x27;</span>,</span><br><span class="line">   quick_show           tinyint comment <span class="string">&#x27;快速展示【是否展示在介绍上；0-否 1-是】&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_product_attr_value comment <span class="string">&#x27;spu属性值&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_sku_images                                        */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_sku_images</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   sku_id               <span class="type">bigint</span> comment <span class="string">&#x27;sku_id&#x27;</span>,</span><br><span class="line">   img_url              <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;图片地址&#x27;</span>,</span><br><span class="line">   img_sort             <span class="type">int</span> comment <span class="string">&#x27;排序&#x27;</span>,</span><br><span class="line">   default_img          <span class="type">int</span> comment <span class="string">&#x27;默认图[0 - 不是默认图，1 - 是默认图]&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_sku_images comment <span class="string">&#x27;sku图片&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_sku_info                                          */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_sku_info</span><br><span class="line">(</span><br><span class="line">   sku_id               <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;skuId&#x27;</span>,</span><br><span class="line">   spu_id               <span class="type">bigint</span> comment <span class="string">&#x27;spuId&#x27;</span>,</span><br><span class="line">   sku_name             <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;sku名称&#x27;</span>,</span><br><span class="line">   sku_desc             <span class="type">varchar</span>(<span class="number">2000</span>) comment <span class="string">&#x27;sku介绍描述&#x27;</span>,</span><br><span class="line">   catalog_id           <span class="type">bigint</span> comment <span class="string">&#x27;所属分类id&#x27;</span>,</span><br><span class="line">   brand_id             <span class="type">bigint</span> comment <span class="string">&#x27;品牌id&#x27;</span>,</span><br><span class="line">   sku_default_img      <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;默认图片&#x27;</span>,</span><br><span class="line">   sku_title            <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;标题&#x27;</span>,</span><br><span class="line">   sku_subtitle         <span class="type">varchar</span>(<span class="number">2000</span>) comment <span class="string">&#x27;副标题&#x27;</span>,</span><br><span class="line">   price                <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;价格&#x27;</span>,</span><br><span class="line">   sale_count           <span class="type">bigint</span> comment <span class="string">&#x27;销量&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (sku_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_sku_info comment <span class="string">&#x27;sku信息&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_sku_sale_attr_value                               */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_sku_sale_attr_value</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   sku_id               <span class="type">bigint</span> comment <span class="string">&#x27;sku_id&#x27;</span>,</span><br><span class="line">   attr_id              <span class="type">bigint</span> comment <span class="string">&#x27;attr_id&#x27;</span>,</span><br><span class="line">   attr_name            <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;销售属性名&#x27;</span>,</span><br><span class="line">   attr_value           <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;销售属性值&#x27;</span>,</span><br><span class="line">   attr_sort            <span class="type">int</span> comment <span class="string">&#x27;顺序&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_sku_sale_attr_value comment <span class="string">&#x27;sku销售属性&amp;值&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_spu_comment                                       */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_spu_comment</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   sku_id               <span class="type">bigint</span> comment <span class="string">&#x27;sku_id&#x27;</span>,</span><br><span class="line">   spu_id               <span class="type">bigint</span> comment <span class="string">&#x27;spu_id&#x27;</span>,</span><br><span class="line">   spu_name             <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;商品名字&#x27;</span>,</span><br><span class="line">   member_nick_name     <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;会员昵称&#x27;</span>,</span><br><span class="line">   star                 tinyint(<span class="number">1</span>) comment <span class="string">&#x27;星级&#x27;</span>,</span><br><span class="line">   member_ip            <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;会员ip&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">   show_status          tinyint(<span class="number">1</span>) comment <span class="string">&#x27;显示状态[0-不显示，1-显示]&#x27;</span>,</span><br><span class="line">   spu_attributes       <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;购买时属性组合&#x27;</span>,</span><br><span class="line">   likes_count          <span class="type">int</span> comment <span class="string">&#x27;点赞数&#x27;</span>,</span><br><span class="line">   reply_count          <span class="type">int</span> comment <span class="string">&#x27;回复数&#x27;</span>,</span><br><span class="line">   resources            <span class="type">varchar</span>(<span class="number">1000</span>) comment <span class="string">&#x27;评论图片/视频[json数据；[&#123;type:文件类型,url:资源路径&#125;]]&#x27;</span>,</span><br><span class="line">   content              text comment <span class="string">&#x27;内容&#x27;</span>,</span><br><span class="line">   member_icon          <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;用户头像&#x27;</span>,</span><br><span class="line">   comment_type         tinyint comment <span class="string">&#x27;评论类型[0 - 对商品的直接评论，1 - 对评论的回复]&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_spu_comment comment <span class="string">&#x27;商品评价&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_spu_images                                        */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_spu_images</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   spu_id               <span class="type">bigint</span> comment <span class="string">&#x27;spu_id&#x27;</span>,</span><br><span class="line">   img_name             <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;图片名&#x27;</span>,</span><br><span class="line">   img_url              <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;图片地址&#x27;</span>,</span><br><span class="line">   img_sort             <span class="type">int</span> comment <span class="string">&#x27;顺序&#x27;</span>,</span><br><span class="line">   default_img          tinyint comment <span class="string">&#x27;是否默认图&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_spu_images comment <span class="string">&#x27;spu图片&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_spu_info                                          */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_spu_info</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;商品id&#x27;</span>,</span><br><span class="line">   spu_name             <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;商品名称&#x27;</span>,</span><br><span class="line">   spu_description      <span class="type">varchar</span>(<span class="number">1000</span>) comment <span class="string">&#x27;商品描述&#x27;</span>,</span><br><span class="line">   catalog_id           <span class="type">bigint</span> comment <span class="string">&#x27;所属分类id&#x27;</span>,</span><br><span class="line">   brand_id             <span class="type">bigint</span> comment <span class="string">&#x27;品牌id&#x27;</span>,</span><br><span class="line">   weight               <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>),</span><br><span class="line">   publish_status       tinyint comment <span class="string">&#x27;上架状态[0 - 下架，1 - 上架]&#x27;</span>,</span><br><span class="line">   create_time          datetime,</span><br><span class="line">   update_time          datetime,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_spu_info comment <span class="string">&#x27;spu信息&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: pms_spu_info_desc                                     */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> pms_spu_info_desc</span><br><span class="line">(</span><br><span class="line">   spu_id               <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;商品id&#x27;</span>,</span><br><span class="line">   decript              longtext comment <span class="string">&#x27;商品介绍&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (spu_id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> pms_spu_info_desc comment <span class="string">&#x27;spu信息介绍&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="SMS活动模块数据库表创建"><a href="#SMS活动模块数据库表创建" class="headerlink" title="SMS活动模块数据库表创建"></a>SMS活动模块数据库表创建</h3><p><img src="image-20220207180124403.png" alt="image-20220207180124403"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_coupon;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_coupon_history;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_coupon_spu_category_relation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_coupon_spu_relation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_home_adv;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_home_subject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_home_subject_spu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_member_price;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_seckill_promotion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_seckill_session;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_seckill_sku_notice;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_seckill_sku_relation;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_sku_full_reduction;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_sku_ladder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> sms_spu_bounds;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_coupon                                            */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_coupon</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   coupon_type          tinyint(<span class="number">1</span>) comment <span class="string">&#x27;优惠卷类型[0-&gt;全场赠券；1-&gt;会员赠券；2-&gt;购物赠券；3-&gt;注册赠券]&#x27;</span>,</span><br><span class="line">   coupon_img           <span class="type">varchar</span>(<span class="number">2000</span>) comment <span class="string">&#x27;优惠券图片&#x27;</span>,</span><br><span class="line">   coupon_name          <span class="type">varchar</span>(<span class="number">100</span>) comment <span class="string">&#x27;优惠卷名字&#x27;</span>,</span><br><span class="line">   num                  <span class="type">int</span> comment <span class="string">&#x27;数量&#x27;</span>,</span><br><span class="line">   amount               <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;金额&#x27;</span>,</span><br><span class="line">   per_limit            <span class="type">int</span> comment <span class="string">&#x27;每人限领张数&#x27;</span>,</span><br><span class="line">   min_point            <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;使用门槛&#x27;</span>,</span><br><span class="line">   start_time           datetime comment <span class="string">&#x27;开始时间&#x27;</span>,</span><br><span class="line">   end_time             datetime comment <span class="string">&#x27;结束时间&#x27;</span>,</span><br><span class="line">   use_type             tinyint(<span class="number">1</span>) comment <span class="string">&#x27;使用类型[0-&gt;全场通用；1-&gt;指定分类；2-&gt;指定商品]&#x27;</span>,</span><br><span class="line">   note                 <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;备注&#x27;</span>,</span><br><span class="line">   publish_count        <span class="type">int</span>(<span class="number">11</span>) comment <span class="string">&#x27;发行数量&#x27;</span>,</span><br><span class="line">   use_count            <span class="type">int</span>(<span class="number">11</span>) comment <span class="string">&#x27;已使用数量&#x27;</span>,</span><br><span class="line">   receive_count        <span class="type">int</span>(<span class="number">11</span>) comment <span class="string">&#x27;领取数量&#x27;</span>,</span><br><span class="line">   enable_start_time    datetime comment <span class="string">&#x27;可以领取的开始日期&#x27;</span>,</span><br><span class="line">   enable_end_time      datetime comment <span class="string">&#x27;可以领取的结束日期&#x27;</span>,</span><br><span class="line">   code                 <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;优惠码&#x27;</span>,</span><br><span class="line">   member_level         tinyint(<span class="number">1</span>) comment <span class="string">&#x27;可以领取的会员等级[0-&gt;不限等级，其他-对应等级]&#x27;</span>,</span><br><span class="line">   publish              tinyint(<span class="number">1</span>) comment <span class="string">&#x27;发布状态[0-未发布，1-已发布]&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_coupon comment <span class="string">&#x27;优惠券信息&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_coupon_history                                    */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_coupon_history</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   coupon_id            <span class="type">bigint</span> comment <span class="string">&#x27;优惠券id&#x27;</span>,</span><br><span class="line">   member_id            <span class="type">bigint</span> comment <span class="string">&#x27;会员id&#x27;</span>,</span><br><span class="line">   member_nick_name     <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;会员名字&#x27;</span>,</span><br><span class="line">   get_type             tinyint(<span class="number">1</span>) comment <span class="string">&#x27;获取方式[0-&gt;后台赠送；1-&gt;主动领取]&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">   use_type             tinyint(<span class="number">1</span>) comment <span class="string">&#x27;使用状态[0-&gt;未使用；1-&gt;已使用；2-&gt;已过期]&#x27;</span>,</span><br><span class="line">   use_time             datetime comment <span class="string">&#x27;使用时间&#x27;</span>,</span><br><span class="line">   order_id             <span class="type">bigint</span> comment <span class="string">&#x27;订单id&#x27;</span>,</span><br><span class="line">   order_sn             <span class="type">bigint</span> comment <span class="string">&#x27;订单号&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_coupon_history comment <span class="string">&#x27;优惠券领取历史记录&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_coupon_spu_category_relation                      */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_coupon_spu_category_relation</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   coupon_id            <span class="type">bigint</span> comment <span class="string">&#x27;优惠券id&#x27;</span>,</span><br><span class="line">   category_id          <span class="type">bigint</span> comment <span class="string">&#x27;产品分类id&#x27;</span>,</span><br><span class="line">   category_name        <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;产品分类名称&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_coupon_spu_category_relation comment <span class="string">&#x27;优惠券分类关联&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_coupon_spu_relation                               */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_coupon_spu_relation</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   coupon_id            <span class="type">bigint</span> comment <span class="string">&#x27;优惠券id&#x27;</span>,</span><br><span class="line">   spu_id               <span class="type">bigint</span> comment <span class="string">&#x27;spu_id&#x27;</span>,</span><br><span class="line">   spu_name             <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;spu_name&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_coupon_spu_relation comment <span class="string">&#x27;优惠券与产品关联&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_home_adv                                          */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_home_adv</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   name                 <span class="type">varchar</span>(<span class="number">100</span>) comment <span class="string">&#x27;名字&#x27;</span>,</span><br><span class="line">   pic                  <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;图片地址&#x27;</span>,</span><br><span class="line">   start_time           datetime comment <span class="string">&#x27;开始时间&#x27;</span>,</span><br><span class="line">   end_time             datetime comment <span class="string">&#x27;结束时间&#x27;</span>,</span><br><span class="line">   status               tinyint(<span class="number">1</span>) comment <span class="string">&#x27;状态&#x27;</span>,</span><br><span class="line">   click_count          <span class="type">int</span> comment <span class="string">&#x27;点击数&#x27;</span>,</span><br><span class="line">   url                  <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;广告详情连接地址&#x27;</span>,</span><br><span class="line">   note                 <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;备注&#x27;</span>,</span><br><span class="line">   sort                 <span class="type">int</span> comment <span class="string">&#x27;排序&#x27;</span>,</span><br><span class="line">   publisher_id         <span class="type">bigint</span> comment <span class="string">&#x27;发布者&#x27;</span>,</span><br><span class="line">   auth_id              <span class="type">bigint</span> comment <span class="string">&#x27;审核者&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_home_adv comment <span class="string">&#x27;首页轮播广告&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_home_subject                                      */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_home_subject</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   name                 <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;专题名字&#x27;</span>,</span><br><span class="line">   title                <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;专题标题&#x27;</span>,</span><br><span class="line">   sub_title            <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;专题副标题&#x27;</span>,</span><br><span class="line">   status               tinyint(<span class="number">1</span>) comment <span class="string">&#x27;显示状态&#x27;</span>,</span><br><span class="line">   url                  <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;详情连接&#x27;</span>,</span><br><span class="line">   sort                 <span class="type">int</span> comment <span class="string">&#x27;排序&#x27;</span>,</span><br><span class="line">   img                  <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;专题图片地址&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_home_subject comment <span class="string">&#x27;首页专题表【jd首页下面很多专题，每个专题链接新的页面，展示专题商品信息】&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_home_subject_spu                                  */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_home_subject_spu</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   name                 <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;专题名字&#x27;</span>,</span><br><span class="line">   subject_id           <span class="type">bigint</span> comment <span class="string">&#x27;专题id&#x27;</span>,</span><br><span class="line">   spu_id               <span class="type">bigint</span> comment <span class="string">&#x27;spu_id&#x27;</span>,</span><br><span class="line">   sort                 <span class="type">int</span> comment <span class="string">&#x27;排序&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_home_subject_spu comment <span class="string">&#x27;专题商品&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_member_price                                      */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_member_price</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   sku_id               <span class="type">bigint</span> comment <span class="string">&#x27;sku_id&#x27;</span>,</span><br><span class="line">   member_level_id      <span class="type">bigint</span> comment <span class="string">&#x27;会员等级id&#x27;</span>,</span><br><span class="line">   member_level_name    <span class="type">varchar</span>(<span class="number">100</span>) comment <span class="string">&#x27;会员等级名&#x27;</span>,</span><br><span class="line">   member_price         <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;会员对应价格&#x27;</span>,</span><br><span class="line">   add_other            tinyint(<span class="number">1</span>) comment <span class="string">&#x27;可否叠加其他优惠[0-不可叠加优惠，1-可叠加]&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_member_price comment <span class="string">&#x27;商品会员价格&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_seckill_promotion                                 */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_seckill_promotion</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   title                <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;活动标题&#x27;</span>,</span><br><span class="line">   start_time           datetime comment <span class="string">&#x27;开始日期&#x27;</span>,</span><br><span class="line">   end_time             datetime comment <span class="string">&#x27;结束日期&#x27;</span>,</span><br><span class="line">   status               tinyint comment <span class="string">&#x27;上下线状态&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">   user_id              <span class="type">bigint</span> comment <span class="string">&#x27;创建人&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_seckill_promotion comment <span class="string">&#x27;秒杀活动&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_seckill_session                                   */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_seckill_session</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   name                 <span class="type">varchar</span>(<span class="number">200</span>) comment <span class="string">&#x27;场次名称&#x27;</span>,</span><br><span class="line">   start_time           datetime comment <span class="string">&#x27;每日开始时间&#x27;</span>,</span><br><span class="line">   end_time             datetime comment <span class="string">&#x27;每日结束时间&#x27;</span>,</span><br><span class="line">   status               tinyint(<span class="number">1</span>) comment <span class="string">&#x27;启用状态&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_seckill_session comment <span class="string">&#x27;秒杀活动场次&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_seckill_sku_notice                                */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_seckill_sku_notice</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   member_id            <span class="type">bigint</span> comment <span class="string">&#x27;member_id&#x27;</span>,</span><br><span class="line">   sku_id               <span class="type">bigint</span> comment <span class="string">&#x27;sku_id&#x27;</span>,</span><br><span class="line">   session_id           <span class="type">bigint</span> comment <span class="string">&#x27;活动场次id&#x27;</span>,</span><br><span class="line">   subcribe_time        datetime comment <span class="string">&#x27;订阅时间&#x27;</span>,</span><br><span class="line">   send_time            datetime comment <span class="string">&#x27;发送时间&#x27;</span>,</span><br><span class="line">   notice_type          tinyint(<span class="number">1</span>) comment <span class="string">&#x27;通知方式[0-短信，1-邮件]&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_seckill_sku_notice comment <span class="string">&#x27;秒杀商品通知订阅&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_seckill_sku_relation                              */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_seckill_sku_relation</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   promotion_id         <span class="type">bigint</span> comment <span class="string">&#x27;活动id&#x27;</span>,</span><br><span class="line">   promotion_session_id <span class="type">bigint</span> comment <span class="string">&#x27;活动场次id&#x27;</span>,</span><br><span class="line">   sku_id               <span class="type">bigint</span> comment <span class="string">&#x27;商品id&#x27;</span>,</span><br><span class="line">   seckill_price        <span class="type">decimal</span> comment <span class="string">&#x27;秒杀价格&#x27;</span>,</span><br><span class="line">   seckill_count        <span class="type">decimal</span> comment <span class="string">&#x27;秒杀总量&#x27;</span>,</span><br><span class="line">   seckill_limit        <span class="type">decimal</span> comment <span class="string">&#x27;每人限购数量&#x27;</span>,</span><br><span class="line">   seckill_sort         <span class="type">int</span> comment <span class="string">&#x27;排序&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_seckill_sku_relation comment <span class="string">&#x27;秒杀活动商品关联&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_sku_full_reduction                                */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_sku_full_reduction</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   sku_id               <span class="type">bigint</span> comment <span class="string">&#x27;spu_id&#x27;</span>,</span><br><span class="line">   full_price           <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;满多少&#x27;</span>,</span><br><span class="line">   reduce_price         <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;减多少&#x27;</span>,</span><br><span class="line">   add_other            tinyint(<span class="number">1</span>) comment <span class="string">&#x27;是否参与其他优惠&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_sku_full_reduction comment <span class="string">&#x27;商品满减信息&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_sku_ladder                                        */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_sku_ladder</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   sku_id               <span class="type">bigint</span> comment <span class="string">&#x27;spu_id&#x27;</span>,</span><br><span class="line">   full_count           <span class="type">int</span> comment <span class="string">&#x27;满几件&#x27;</span>,</span><br><span class="line">   discount             <span class="type">decimal</span>(<span class="number">4</span>,<span class="number">2</span>) comment <span class="string">&#x27;打几折&#x27;</span>,</span><br><span class="line">   price                <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;折后价&#x27;</span>,</span><br><span class="line">   add_other            tinyint(<span class="number">1</span>) comment <span class="string">&#x27;是否叠加其他优惠[0-不可叠加，1-可叠加]&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_sku_ladder comment <span class="string">&#x27;商品阶梯价格&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: sms_spu_bounds                                        */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sms_spu_bounds</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   spu_id               <span class="type">bigint</span>,</span><br><span class="line">   grow_bounds          <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;成长积分&#x27;</span>,</span><br><span class="line">   buy_bounds           <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;购物积分&#x27;</span>,</span><br><span class="line">   work                 tinyint(<span class="number">1</span>) comment <span class="string">&#x27;优惠生效情况[1111（四个状态位，从右到左）;0 - 无优惠，成长积分是否赠送;1 - 无优惠，购物积分是否赠送;2 - 有优惠，成长积分是否赠送;3 - 有优惠，购物积分是否赠送【状态位0：不赠送，1：赠送】]&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> sms_spu_bounds comment <span class="string">&#x27;商品spu积分设置&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="UMS用户模块数据库表创建"><a href="#UMS用户模块数据库表创建" class="headerlink" title="UMS用户模块数据库表创建"></a>UMS用户模块数据库表创建</h3><p><img src="image-20220207180325157.png" alt="image-20220207180325157"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> ums_growth_change_history;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> ums_integration_change_history;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> ums_member;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> ums_member_collect_spu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> ums_member_collect_subject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> ums_member_level;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> ums_member_login_log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> ums_member_receive_address;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> ums_member_statistics_info;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_growth_change_history                             */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> ums_growth_change_history</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   member_id            <span class="type">bigint</span> comment <span class="string">&#x27;member_id&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;create_time&#x27;</span>,</span><br><span class="line">   change_count         <span class="type">int</span> comment <span class="string">&#x27;改变的值（正负计数）&#x27;</span>,</span><br><span class="line">   note                 <span class="type">varchar</span>(<span class="number">0</span>) comment <span class="string">&#x27;备注&#x27;</span>,</span><br><span class="line">   source_type          tinyint comment <span class="string">&#x27;积分来源[0-购物，1-管理员修改]&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> ums_growth_change_history comment <span class="string">&#x27;成长值变化历史记录&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_integration_change_history                        */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> ums_integration_change_history</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   member_id            <span class="type">bigint</span> comment <span class="string">&#x27;member_id&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;create_time&#x27;</span>,</span><br><span class="line">   change_count         <span class="type">int</span> comment <span class="string">&#x27;变化的值&#x27;</span>,</span><br><span class="line">   note                 <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;备注&#x27;</span>,</span><br><span class="line">   source_tyoe          tinyint comment <span class="string">&#x27;来源[0-&gt;购物；1-&gt;管理员修改;2-&gt;活动]&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> ums_integration_change_history comment <span class="string">&#x27;积分变化历史记录&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_member                                            */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> ums_member</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   level_id             <span class="type">bigint</span> comment <span class="string">&#x27;会员等级id&#x27;</span>,</span><br><span class="line">   username             <span class="type">char</span>(<span class="number">64</span>) comment <span class="string">&#x27;用户名&#x27;</span>,</span><br><span class="line">   password             <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;密码&#x27;</span>,</span><br><span class="line">   nickname             <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;昵称&#x27;</span>,</span><br><span class="line">   mobile               <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;手机号码&#x27;</span>,</span><br><span class="line">   email                <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line">   header               <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;头像&#x27;</span>,</span><br><span class="line">   gender               tinyint comment <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">   birth                <span class="type">date</span> comment <span class="string">&#x27;生日&#x27;</span>,</span><br><span class="line">   city                 <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;所在城市&#x27;</span>,</span><br><span class="line">   job                  <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;职业&#x27;</span>,</span><br><span class="line">   sign                 <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;个性签名&#x27;</span>,</span><br><span class="line">   source_type          tinyint comment <span class="string">&#x27;用户来源&#x27;</span>,</span><br><span class="line">   integration          <span class="type">int</span> comment <span class="string">&#x27;积分&#x27;</span>,</span><br><span class="line">   growth               <span class="type">int</span> comment <span class="string">&#x27;成长值&#x27;</span>,</span><br><span class="line">   status               tinyint comment <span class="string">&#x27;启用状态&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;注册时间&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> ums_member comment <span class="string">&#x27;会员&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_member_collect_spu                                */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> ums_member_collect_spu</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   member_id            <span class="type">bigint</span> comment <span class="string">&#x27;会员id&#x27;</span>,</span><br><span class="line">   spu_id               <span class="type">bigint</span> comment <span class="string">&#x27;spu_id&#x27;</span>,</span><br><span class="line">   spu_name             <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;spu_name&#x27;</span>,</span><br><span class="line">   spu_img              <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;spu_img&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;create_time&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> ums_member_collect_spu comment <span class="string">&#x27;会员收藏的商品&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_member_collect_subject                            */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> ums_member_collect_subject</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   subject_id           <span class="type">bigint</span> comment <span class="string">&#x27;subject_id&#x27;</span>,</span><br><span class="line">   subject_name         <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;subject_name&#x27;</span>,</span><br><span class="line">   subject_img          <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;subject_img&#x27;</span>,</span><br><span class="line">   subject_urll         <span class="type">varchar</span>(<span class="number">500</span>) comment <span class="string">&#x27;活动url&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> ums_member_collect_subject comment <span class="string">&#x27;会员收藏的专题活动&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_member_level                                      */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> ums_member_level</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   name                 <span class="type">varchar</span>(<span class="number">100</span>) comment <span class="string">&#x27;等级名称&#x27;</span>,</span><br><span class="line">   growth_point         <span class="type">int</span> comment <span class="string">&#x27;等级需要的成长值&#x27;</span>,</span><br><span class="line">   default_status       tinyint comment <span class="string">&#x27;是否为默认等级[0-&gt;不是；1-&gt;是]&#x27;</span>,</span><br><span class="line">   free_freight_point   <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;免运费标准&#x27;</span>,</span><br><span class="line">   comment_growth_point <span class="type">int</span> comment <span class="string">&#x27;每次评价获取的成长值&#x27;</span>,</span><br><span class="line">   priviledge_free_freight tinyint comment <span class="string">&#x27;是否有免邮特权&#x27;</span>,</span><br><span class="line">   priviledge_member_price tinyint comment <span class="string">&#x27;是否有会员价格特权&#x27;</span>,</span><br><span class="line">   priviledge_birthday  tinyint comment <span class="string">&#x27;是否有生日特权&#x27;</span>,</span><br><span class="line">   note                 <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;备注&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> ums_member_level comment <span class="string">&#x27;会员等级&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_member_login_log                                  */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> ums_member_login_log</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   member_id            <span class="type">bigint</span> comment <span class="string">&#x27;member_id&#x27;</span>,</span><br><span class="line">   create_time          datetime comment <span class="string">&#x27;创建时间&#x27;</span>,</span><br><span class="line">   ip                   <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;ip&#x27;</span>,</span><br><span class="line">   city                 <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;city&#x27;</span>,</span><br><span class="line">   login_type           tinyint(<span class="number">1</span>) comment <span class="string">&#x27;登录类型[1-web，2-app]&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> ums_member_login_log comment <span class="string">&#x27;会员登录记录&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_member_receive_address                            */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> ums_member_receive_address</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   member_id            <span class="type">bigint</span> comment <span class="string">&#x27;member_id&#x27;</span>,</span><br><span class="line">   name                 <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;收货人姓名&#x27;</span>,</span><br><span class="line">   phone                <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;电话&#x27;</span>,</span><br><span class="line">   post_code            <span class="type">varchar</span>(<span class="number">64</span>) comment <span class="string">&#x27;邮政编码&#x27;</span>,</span><br><span class="line">   province             <span class="type">varchar</span>(<span class="number">100</span>) comment <span class="string">&#x27;省份/直辖市&#x27;</span>,</span><br><span class="line">   city                 <span class="type">varchar</span>(<span class="number">100</span>) comment <span class="string">&#x27;城市&#x27;</span>,</span><br><span class="line">   region               <span class="type">varchar</span>(<span class="number">100</span>) comment <span class="string">&#x27;区&#x27;</span>,</span><br><span class="line">   detail_address       <span class="type">varchar</span>(<span class="number">255</span>) comment <span class="string">&#x27;详细地址(街道)&#x27;</span>,</span><br><span class="line">   areacode             <span class="type">varchar</span>(<span class="number">15</span>) comment <span class="string">&#x27;省市区代码&#x27;</span>,</span><br><span class="line">   default_status       tinyint(<span class="number">1</span>) comment <span class="string">&#x27;是否默认&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> ums_member_receive_address comment <span class="string">&#x27;会员收货地址&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="comment">/* Table: ums_member_statistics_info                            */</span></span><br><span class="line"><span class="comment">/*==============================================================*/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> ums_member_statistics_info</span><br><span class="line">(</span><br><span class="line">   id                   <span class="type">bigint</span> <span class="keyword">not</span> <span class="keyword">null</span> auto_increment comment <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">   member_id            <span class="type">bigint</span> comment <span class="string">&#x27;会员id&#x27;</span>,</span><br><span class="line">   consume_amount       <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;累计消费金额&#x27;</span>,</span><br><span class="line">   coupon_amount        <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) comment <span class="string">&#x27;累计优惠金额&#x27;</span>,</span><br><span class="line">   order_count          <span class="type">int</span> comment <span class="string">&#x27;订单数量&#x27;</span>,</span><br><span class="line">   coupon_count         <span class="type">int</span> comment <span class="string">&#x27;优惠券数量&#x27;</span>,</span><br><span class="line">   comment_count        <span class="type">int</span> comment <span class="string">&#x27;评价数&#x27;</span>,</span><br><span class="line">   return_order_count   <span class="type">int</span> comment <span class="string">&#x27;退货数量&#x27;</span>,</span><br><span class="line">   login_count          <span class="type">int</span> comment <span class="string">&#x27;登录次数&#x27;</span>,</span><br><span class="line">   attend_count         <span class="type">int</span> comment <span class="string">&#x27;关注数量&#x27;</span>,</span><br><span class="line">   fans_count           <span class="type">int</span> comment <span class="string">&#x27;粉丝数量&#x27;</span>,</span><br><span class="line">   collect_product_count <span class="type">int</span> comment <span class="string">&#x27;收藏的商品数量&#x27;</span>,</span><br><span class="line">   collect_subject_count <span class="type">int</span> comment <span class="string">&#x27;收藏的专题活动数量&#x27;</span>,</span><br><span class="line">   collect_comment_count <span class="type">int</span> comment <span class="string">&#x27;收藏的评论数量&#x27;</span>,</span><br><span class="line">   invite_friend_count  <span class="type">int</span> comment <span class="string">&#x27;邀请的朋友数量&#x27;</span>,</span><br><span class="line">   <span class="keyword">primary</span> key (id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> ums_member_statistics_info comment <span class="string">&#x27;会员统计信息&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="WMS库存模块数据库表创建"><a href="#WMS库存模块数据库表创建" class="headerlink" title="WMS库存模块数据库表创建"></a>WMS库存模块数据库表创建</h3><p><img src="image-20220207180528965.png" alt="image-20220207180528965"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*!40101 SET NAMES utf8 */</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*!40101 SET SQL_MODE=&#x27;&#x27;*/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */</span>;</span><br><span class="line"><span class="comment">/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */</span>;</span><br><span class="line"><span class="comment">/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=&#x27;NO_AUTO_VALUE_ON_ZERO&#x27; */</span>;</span><br><span class="line"><span class="comment">/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Table structure for table `undo_log` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `undo_log`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `undo_log` (</span><br><span class="line">  `id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `branch_id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `xid` <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `context` <span class="type">varchar</span>(<span class="number">128</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `rollback_info` longblob <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `log_status` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `log_created` datetime <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `log_modified` datetime <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `ext` <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">  <span class="keyword">UNIQUE</span> KEY `ux_undo_log` (`xid`,`branch_id`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Data for the table `undo_log` */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*Table structure for table `wms_purchase` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `wms_purchase`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `wms_purchase` (</span><br><span class="line">  `id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `assignee_id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `assignee_name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `phone` <span class="type">char</span>(<span class="number">13</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `priority` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `status` <span class="type">int</span>(<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `ware_id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `amount` <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `create_time` datetime <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `update_time` datetime <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 COMMENT<span class="operator">=</span><span class="string">&#x27;采购信息&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Data for the table `wms_purchase` */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*Table structure for table `wms_purchase_detail` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `wms_purchase_detail`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `wms_purchase_detail` (</span><br><span class="line">  `id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `purchase_id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;采购单id&#x27;</span>,</span><br><span class="line">  `sku_id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;采购商品id&#x27;</span>,</span><br><span class="line">  `sku_num` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;采购数量&#x27;</span>,</span><br><span class="line">  `sku_price` <span class="type">decimal</span>(<span class="number">18</span>,<span class="number">4</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;采购金额&#x27;</span>,</span><br><span class="line">  `ware_id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;仓库id&#x27;</span>,</span><br><span class="line">  `status` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;状态[0新建，1已分配，2正在采购，3已完成，4采购失败]&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Data for the table `wms_purchase_detail` */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*Table structure for table `wms_ware_info` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `wms_ware_info`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `wms_ware_info` (</span><br><span class="line">  `id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">  `name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;仓库名&#x27;</span>,</span><br><span class="line">  `address` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;仓库地址&#x27;</span>,</span><br><span class="line">  `areacode` <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;区域编码&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 COMMENT<span class="operator">=</span><span class="string">&#x27;仓库信息&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Data for the table `wms_ware_info` */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*Table structure for table `wms_ware_order_task` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `wms_ware_order_task`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `wms_ware_order_task` (</span><br><span class="line">  `id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">  `order_id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;order_id&#x27;</span>,</span><br><span class="line">  `order_sn` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;order_sn&#x27;</span>,</span><br><span class="line">  `consignee` <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;收货人&#x27;</span>,</span><br><span class="line">  `consignee_tel` <span class="type">char</span>(<span class="number">15</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;收货人电话&#x27;</span>,</span><br><span class="line">  `delivery_address` <span class="type">varchar</span>(<span class="number">500</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;配送地址&#x27;</span>,</span><br><span class="line">  `order_comment` <span class="type">varchar</span>(<span class="number">200</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;订单备注&#x27;</span>,</span><br><span class="line">  `payment_way` tinyint(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;付款方式【 1:在线付款 2:货到付款】&#x27;</span>,</span><br><span class="line">  `task_status` tinyint(<span class="number">2</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;任务状态&#x27;</span>,</span><br><span class="line">  `order_body` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;订单描述&#x27;</span>,</span><br><span class="line">  `tracking_no` <span class="type">char</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;物流单号&#x27;</span>,</span><br><span class="line">  `create_time` datetime <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;create_time&#x27;</span>,</span><br><span class="line">  `ware_id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;仓库id&#x27;</span>,</span><br><span class="line">  `task_comment` <span class="type">varchar</span>(<span class="number">500</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;工作单备注&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 COMMENT<span class="operator">=</span><span class="string">&#x27;库存工作单&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Data for the table `wms_ware_order_task` */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*Table structure for table `wms_ware_order_task_detail` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `wms_ware_order_task_detail`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `wms_ware_order_task_detail` (</span><br><span class="line">  `id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">  `sku_id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;sku_id&#x27;</span>,</span><br><span class="line">  `sku_name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;sku_name&#x27;</span>,</span><br><span class="line">  `sku_num` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;购买个数&#x27;</span>,</span><br><span class="line">  `task_id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;工作单id&#x27;</span>,</span><br><span class="line">  `ware_id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;仓库id&#x27;</span>,</span><br><span class="line">  `lock_status` <span class="type">int</span>(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;1-已锁定  2-已解锁  3-扣减&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 COMMENT<span class="operator">=</span><span class="string">&#x27;库存工作单&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Data for the table `wms_ware_order_task_detail` */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*Table structure for table `wms_ware_sku` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `wms_ware_sku`;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `wms_ware_sku` (</span><br><span class="line">  `id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">  `sku_id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;sku_id&#x27;</span>,</span><br><span class="line">  `ware_id` <span class="type">bigint</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;仓库id&#x27;</span>,</span><br><span class="line">  `stock` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;库存数&#x27;</span>,</span><br><span class="line">  `sku_name` <span class="type">varchar</span>(<span class="number">200</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;sku_name&#x27;</span>,</span><br><span class="line">  `stock_locked` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;0&#x27;</span> COMMENT <span class="string">&#x27;锁定库存&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">  KEY `sku_id` (`sku_id`) <span class="keyword">USING</span> BTREE,</span><br><span class="line">  KEY `ware_id` (`ware_id`) <span class="keyword">USING</span> BTREE</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 COMMENT<span class="operator">=</span><span class="string">&#x27;商品库存&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Data for the table `wms_ware_sku` */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*!40101 SET SQL_MODE=@OLD_SQL_MODE */</span>;</span><br><span class="line"><span class="comment">/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */</span>;</span><br><span class="line"><span class="comment">/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */</span>;</span><br><span class="line"><span class="comment">/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */</span>;</span><br></pre></td></tr></table></figure>

<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><blockquote>
<p>[1] <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1np4y1C7Yf">Java项目《谷粒商城》Java架构师 | 微服务 | 大型电商项目_哔哩哔哩_bilibili</a></p>
<p>[2] <a target="_blank" rel="noopener" href="https://blog.csdn.net/unique_perfect/article/details/111392634">从前慢-谷粒商城篇章1_unique_perfect的博客-CSDN博客_从前慢 谷粒商城</a></p>
</blockquote>

    </div>

    
    
    

    <div>
    
        <div>
    
        <hr>
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文到此结束 <i class="fas fa-book-open"></i> 感谢您的阅读-------------</div>
    
</div>
    
    </div>
        <div class="reward-container">
  <div>谢谢你请我喝肥宅快乐水(๑＞ڡ＜) ☆☆☆</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatimg.jpg" alt="喵式重战 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipayimg.jpg" alt="喵式重战 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>喵式重战
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://heavytiger.github.io/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE_%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="喵喵商城项目_环境搭建">https://heavytiger.github.io/articles/喵喵商城项目_环境搭建/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/" rel="tag"><i class="fa fa-tag"></i> 项目实战</a>
              <a href="/tags/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" rel="tag"><i class="fa fa-tag"></i> 环境搭建</a>
              <a href="/tags/%E9%83%A8%E7%BD%B2%E8%BF%90%E7%BB%B4/" rel="tag"><i class="fa fa-tag"></i> 部署运维</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/articles/Redis%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0/" rel="prev" title="Redis基础学习">
      <i class="fa fa-chevron-left"></i> Redis基础学习
    </a></div>
      <div class="post-nav-item">
    <a href="/articles/%E5%96%B5%E5%96%B5%E5%95%86%E5%9F%8E%E9%A1%B9%E7%9B%AE-%E5%90%8E%E5%8F%B0%E5%BF%AB%E9%80%9F%E5%BC%80%E5%8F%91/" rel="next" title="喵喵商城项目_后台快速开发">
      喵喵商城项目_后台快速开发 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Linux%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-number">1.</span> <span class="nav-text">安装Linux虚拟机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8Xshell%E8%BF%9E%E6%8E%A5%E5%88%B0%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-number">2.</span> <span class="nav-text">使用Xshell连接到虚拟机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="nav-number">3.</span> <span class="nav-text">Docker环境搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Docker"><span class="nav-number">3.1.</span> <span class="nav-text">安装Docker</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8Docker%E4%B8%AD%E5%AE%89%E8%A3%85MySQL"><span class="nav-number">3.2.</span> <span class="nav-text">在Docker中安装MySQL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8Docker%E4%B8%AD%E5%AE%89%E8%A3%85Redis"><span class="nav-number">3.3.</span> <span class="nav-text">在Docker中安装Redis</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAgithub%E4%BB%93%E5%BA%93"><span class="nav-number">4.</span> <span class="nav-text">创建github仓库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E7%9A%84%E8%AE%BE%E8%AE%A1"><span class="nav-number">5.</span> <span class="nav-text">数据库表的设计</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">5.1.</span> <span class="nav-text">创建数据库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OMS%E8%AE%A2%E5%8D%95%E6%A8%A1%E5%9D%97%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E5%88%9B%E5%BB%BA"><span class="nav-number">5.2.</span> <span class="nav-text">OMS订单模块数据库表创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PMS%E4%BA%A7%E5%93%81%E6%A8%A1%E5%9D%97%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E5%88%9B%E5%BB%BA"><span class="nav-number">5.3.</span> <span class="nav-text">PMS产品模块数据库表创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#SMS%E6%B4%BB%E5%8A%A8%E6%A8%A1%E5%9D%97%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E5%88%9B%E5%BB%BA"><span class="nav-number">5.4.</span> <span class="nav-text">SMS活动模块数据库表创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#UMS%E7%94%A8%E6%88%B7%E6%A8%A1%E5%9D%97%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E5%88%9B%E5%BB%BA"><span class="nav-number">5.5.</span> <span class="nav-text">UMS用户模块数据库表创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WMS%E5%BA%93%E5%AD%98%E6%A8%A1%E5%9D%97%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E5%88%9B%E5%BB%BA"><span class="nav-number">5.6.</span> <span class="nav-text">WMS库存模块数据库表创建</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">6.</span> <span class="nav-text">参考资料</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="喵式重战"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">喵式重战</p>
  <div class="site-description" itemprop="description">人的一切痛苦，本质上都是对自己无能的愤怒。</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">24</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">35</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/HeavyTiger" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;HeavyTiger" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=o8fGzcTAy8bNxM7KwszjxczbzsLKz43AzM4" title="E-Mail → http:&#x2F;&#x2F;mail.qq.com&#x2F;cgi-bin&#x2F;qm_share?t&#x3D;qm_mailme&amp;email&#x3D;o8fGzcTAy8bNxM7KwszjxczbzsLKz43AzM4" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://tzhiy.github.io/" title="https:&#x2F;&#x2F;tzhiy.github.io&#x2F;" rel="noopener" target="_blank">tzhiy's Blog</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://anthonycj.github.io/" title="https:&#x2F;&#x2F;anthonycj.github.io&#x2F;" rel="noopener" target="_blank">AnthonyCJ's Blogs</a>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>
    

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2021 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fas fa-star fa-spin"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">喵式重战</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">677k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">10:15</span>
</div>

<!--
--><!--
<a href="https://icp.gov.moe/?keyword=20180708" rel="external nofollow noreferrer" target="_blank" data-pjax-state="" style="
    border-bottom-width: 0px;
">萌 ICP 备 20180708 号</a>
//-->

<!-- 网站运行时间的设置 -->
<span id="timeDate">载入天数...</span>
<span id="times">载入时分秒...</span>
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("6/8/2021 0:0:0");       //此处修改你的建站时间，注意格式
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "已经存活 "+dnum+" 天 ";
        document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒了，地球太危险了，我好害怕，想回家呜呜呜( >﹏<。)";
    }
setInterval("createtime()",250);
</script>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>













  

  

  
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/assets/z16.model.json"},"display":{"position":"right","hOffset":0,"vOffset":-20,"width":200,"height":400},"mobile":{"show":true,"scale":0.7},"react":{"opacity":0.85},"log":false});</script></body>
</html>
